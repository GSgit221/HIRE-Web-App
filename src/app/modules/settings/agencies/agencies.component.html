<div class="container fixed-width-container">
    <div class="title-block"><h1 class="page-title">Recruitment Agencies</h1></div>
    <div class="content-section">
        <form [formGroup]="form">
            <div class="form-content-section">
                <div class="form-content-holder">
                    <div class="form-content-box">
                        <p-messages [(value)]="msgs"></p-messages>
                        <div class="form-block">
                            <label for="full_name" class="form-block-label">Agency Company Name</label>
                            <div class="form-block-columns padding-columns">
                                <div class="form-block-col flex-30">
                                    <div class="input-block">
                                        <input
                                            type="text"
                                            class="form-input pl45"
                                            placeholder="Agency Name"
                                            formControlName="full_name"
                                        />
                                        <div
                                            class="error-message"
                                            *ngIf="!form.get('full_name').valid && form.get('full_name').touched"
                                        >
                                            Agency Name is required
                                        </div>
                                    </div>
                                </div>
                                <div class="form-block-col flex-25">
                                    <div class="input-block">
                                        <input
                                            type="text"
                                            class="form-input pl45"
                                            placeholder="Primary Contact First Name"
                                            formControlName="primary_contact"
                                        />
                                        <div
                                            class="error-message"
                                            *ngIf="
                                                !form.get('primary_contact').valid &&
                                                form.get('primary_contact').touched
                                            "
                                        >
                                            Primary Contact First Name is required
                                        </div>
                                    </div>
                                </div>
                                <div class="form-block-col flex-30">
                                    <div class="input-block">
                                        <input
                                            type="text"
                                            class="form-input pl45"
                                            placeholder="Email Address"
                                            formControlName="email"
                                        />
                                        <div
                                            class="error-message"
                                            *ngIf="!form.get('email').valid && form.get('email').touched"
                                        >
                                            Email is required
                                        </div>
                                    </div>
                                </div>
                                <div class="flex-15">
                                    <button
                                        class="btn btn-primary mla btn-add-user-component"
                                        (click)="onAddAgencySubmit()"
                                        [disabled]="!form.valid"
                                    >
                                        Add Agency
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
        <div class="mb20"></div>
        <div class="hc-list" *ngIf="users && users.length">
            <div class="hc-selected-items" *ngIf="selectedItems">
                <div class="text-block">
                    <p>{{ selectedItems }} items selected</p>
                </div>
                <span class="delete-ico" (click)="onUserBulkRemove()">
                    <svg
                        width="16px"
                        height="20px"
                        viewBox="0 0 8 10"
                        version="1.1"
                        xmlns="http://www.w3.org/2000/svg"
                        xmlns:xlink="http://www.w3.org/1999/xlink"
                    >
                        <g id="Recruit-Setup" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                            <g
                                id="Job-View---Default"
                                transform="translate(-498.000000, -237.000000)"
                                fill="#1e88e5"
                                fill-rule="nonzero"
                            >
                                <g id="icons8-delete" transform="translate(498.000000, 237.000000)">
                                    <path
                                        d="M3.26988655,0 C2.67329527,0 2.18181818,0.519831538 2.18181818,1.15084154 L2.18181818,1.53846154 L0,1.53846154 L0,2.30769231 L0.727272727,2.30769231 L0.727272727,8.84615385 C0.727272727,9.48016846 1.21874982,10 1.81818182,10 L6.18181818,10 C6.78125018,10 7.27272727,9.48016846 7.27272727,8.84615385 L7.27272727,2.30769231 L8,2.30769231 L8,1.53846154 L5.81818182,1.53846154 L5.81818182,1.15084154 C5.81818182,0.519831538 5.32670473,0 4.73011345,0 L3.26988655,0 Z M3.26988655,0.769230769 L4.73011345,0.769230769 C4.93465891,0.769230769 5.09090909,0.934495385 5.09090909,1.15084154 L5.09090909,2.30769231 L6.54545455,2.30769231 L6.54545455,8.84615385 C6.54545455,9.0625 6.38636364,9.23076923 6.18181818,9.23076923 L1.81818182,9.23076923 C1.61363636,9.23076923 1.45454545,9.0625 1.45454545,8.84615385 L1.45454545,2.30769231 L2.90909091,2.30769231 L2.90909091,1.15084154 C2.90909091,0.934495385 3.06534109,0.769230769 3.26988655,0.769230769 Z M2.18181818,3.07692308 L2.18181818,8.46153846 L2.90909091,8.46153846 L2.90909091,3.07692308 L2.18181818,3.07692308 Z M3.63636364,3.07692308 L3.63636364,8.46153846 L4.36363636,8.46153846 L4.36363636,3.07692308 L3.63636364,3.07692308 Z M5.09090909,3.07692308 L5.09090909,8.46153846 L5.81818182,8.46153846 L5.81818182,3.07692308 L5.09090909,3.07692308 Z"
                                        id="Shape"
                                    ></path>
                                </g>
                            </g>
                        </g>
                    </svg>
                </span>
            </div>
            <div class="hc-list-header">
                <div class="col col1 flex-5 hc-checkbox-col">
                    <div class="hc-checkbox">
                        <p-checkbox
                            binary="true"
                            [(ngModel)]="selectedAll"
                            (onChange)="onSelectAllChange()"
                        ></p-checkbox>
                    </div>
                </div>
                <div class="col col2 flex-25">Agency Name</div>
                <div class="col col3 flex-25">Primary Contact</div>
                <div class="col col4 flex-25">Email Address</div>
                <div class="col col4 flex-15">Status</div>
            </div>
            <div class="nr-list-content">
                <div class="hc-blocker"></div>
                <div
                    class="hc-list-row"
                    *ngFor="let user of (users | sortByOrder: 'first_name'); let i = index"
                    (mouseover)="users[i].isVisible = true"
                    (mouseout)="users[i].isVisible = users[i].selected ? true : false"
                >
                    <div class="hc-list-row-content">
                        <div class="col col1 flex-5 ">
                            <div class="hc-checkbox" data-escape-click>
                                <p-checkbox
                                    binary="true"
                                    [(ngModel)]="user.selected"
                                    (onChange)="onItemSeletectedChange()"
                                ></p-checkbox>
                            </div>
                        </div>
                        <div class="col col2 flex-25">
                            <p class="hc-content-p">{{ user.full_name }}</p>
                        </div>
                        <div class="col col3  flex-25">
                            <p class="hc-content-p">{{ user.primary_contact }}</p>
                        </div>
                        <div class="col col4 flex-25">{{ user.email }}</div>
                        <div class="col col5 flex-15">
                            <div class="status" [ngClass]="'build'" *ngIf="user.invitation_code"></div>
                            <div class="status" [ngClass]="'live'" *ngIf="!user.invitation_code"></div>
                            {{ user.invitation_code ? 'Pending' : 'Active' }}
                        </div>
                        <div
                            class="col col6 flex-5"
                            *ngIf="user.invitation_code"
                            (click)="onResendClick($event, user.id)"
                        >
                            <img
                                src="/assets/images/email-send.svg"
                                class="resend-invitation"
                                alt="invitation icon"
                                pTooltip="Resend Invitation"
                            />
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<app-loader *ngIf="contentLoading"></app-loader>
